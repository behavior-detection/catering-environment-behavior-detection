<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>邮箱验证 - 找回密码</title>
    <link rel="stylesheet" href="static/css/email_verification_style.css">
</head>
<body>
    <div class="container">
        <div class="header">
            <h2>邮箱验证</h2>
            <p id="headerText">通过邮箱验证找回密码</p>
        </div>

        <!-- 步骤指示器 -->
        <div class="step-indicator">
            <div class="step active" id="step1">
                <div class="step-number">1</div>
                <span>输入邮箱</span>
            </div>
            <div class="step" id="step2">
                <div class="step-number">2</div>
                <span>验证邮箱</span>
            </div>
        </div>

        <!-- 第一步：输入邮箱 -->
        <div class="form-section active" id="emailSection">
            <div class="info-box">
                请输入您注册时使用的邮箱地址，我们将向该邮箱发送验证码。
            </div>

            <form id="emailForm">
                <div class="form-group">
                    <label for="email">邮箱地址</label>
                    <input type="email" id="email" placeholder="请输入您的邮箱" required>
                    <div class="error-message" id="emailError"></div>
                </div>

                <button type="submit" class="submit-btn" id="checkEmailBtn">下一步</button>
            </form>

            <div class="loading" id="emailLoading">
                <div class="spinner"></div>
                <p>正在验证邮箱...</p>
            </div>
        </div>

        <!-- 第二步：输入验证码 -->
        <div class="form-section" id="verificationSection">
            <div class="info-box">
                验证码已发送到 <strong id="emailDisplay"></strong>，请查收邮件并输入验证码。
            </div>

            <form id="verificationForm">
                <div class="form-group">
                    <label for="verificationCode">验证码</label>
                    <div class="verification-code-container">
                        <input type="text" id="verificationCode" class="code-input"
                               placeholder="请输入6位验证码" maxlength="6" required>
                        <button type="button" class="send-code-btn" id="resendBtn">
                            重新发送<span class="countdown" id="countdown"></span>
                        </button>
                    </div>
                    <div class="error-message" id="codeError"></div>
                    <div class="success-message" id="codeSuccess"></div>
                </div>

                <button type="submit" class="submit-btn" id="verifyBtn">验证并继续</button>
                <a href="#" class="back-btn" onclick="goBack()">返回上一步</a>
            </form>

            <div class="loading" id="verifyLoading">
                <div class="spinner"></div>
                <p>正在验证...</p>
            </div>
        </div>
    </div>
</body>
    <!-- External JavaScript -->
    <script src="static/js/email_verification.js"></script>
</html>